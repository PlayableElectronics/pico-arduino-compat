add_library(iondb INTERFACE)

target_sources(iondb INTERFACE
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/file/sd_stdio_c_iface.cpp"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/unit/cpp_wrapper/test1/test_cpp_wrapper1.cpp"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/unit/cpp_wrapper/test1/run_cpp_wrapper1.cpp"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/unit/cpp_wrapper/test2/run_cpp_wrapper2.cpp"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/unit/cpp_wrapper/test2/test_cpp_wrapper2.cpp"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/unit/cpp_wrapper/test4/test_cpp_wrapper4.cpp"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/unit/cpp_wrapper/test4/run_cpp_wrapper4.cpp"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/unit/cpp_wrapper/test3/test_cpp_wrapper3.cpp"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/unit/cpp_wrapper/test3/run_cpp_wrapper3.cpp"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/integration/cpp_wrapper/cpp_wrapper_test.cpp"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/serial/serial_c_iface.cpp"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/examples/CppWrapper/CppWrapperExample.cpp"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/iinq/iinq.c"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/util/lfsr/lfsr.c"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/file/ion_file.c"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/file/linked_file_bag.c"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/benchmark/benchmark.c"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/benchmark/ram/ram_util.c"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/unit/iinq/test_iinq.c"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/unit/iinq/run_iinq.c"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/unit/dictionary/run_dictionary.c"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/unit/dictionary/test_dictionary.c"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/unit/dictionary/generic_dictionary_test.c"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/unit/dictionary/flat_file/run_flat_file.c"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/unit/dictionary/flat_file/test_flat_file.c"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/unit/dictionary/flat_file/test_flat_file_dictionary_handler.c"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/unit/dictionary/linear_hash/run_linear_hash.c"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/unit/dictionary/linear_hash/test_linear_hash.c"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/unit/dictionary/linear_hash/test_linear_hash_dictionary_handler.c"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/unit/dictionary/skip_list/test_skip_list.c"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/unit/dictionary/skip_list/run_skip_list.c"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/unit/dictionary/skip_list/test_skip_list_handler.c"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/unit/dictionary/open_address_hash/run_open_address_hash.c"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/unit/dictionary/open_address_hash/test_open_address_hash_dictionary_handler.c"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/unit/dictionary/open_address_hash/test_open_address_hash.c"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/unit/dictionary/open_address_file_hash/test_open_address_file_hash.c"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/unit/dictionary/open_address_file_hash/test_open_address_file_hash_dictionary_handler.c"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/unit/dictionary/open_address_file_hash/run_open_address_file_hash.c"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/unit/dictionary/bpp_tree/test_bpp_tree_handler.c"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/unit/dictionary/bpp_tree/run_bpp_tree.c"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/behaviour/dictionary/behaviour_dictionary.c"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/behaviour/dictionary/flat_file/run_behaviour_flat_file.c"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/behaviour/dictionary/flat_file/test_behaviour_flat_file.c"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/behaviour/dictionary/linear_hash/test_behaviour_linear_hash.c"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/behaviour/dictionary/linear_hash/run_behaviour_linear_hash.c"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/behaviour/dictionary/skip_list/run_behaviour_skip_list.c"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/behaviour/dictionary/skip_list/test_behaviour_skip_list.c"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/behaviour/dictionary/open_address_hash/test_behaviour_open_address_hash.c"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/behaviour/dictionary/open_address_hash/run_behaviour_open_address_hash.c"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/behaviour/dictionary/open_address_file_hash/test_behaviour_open_address_file_hash.c"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/behaviour/dictionary/open_address_file_hash/run_behaviour_open_address_file_hash.c"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/behaviour/dictionary/bpp_tree/run_behaviour_bpp_tree.c"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/behaviour/dictionary/bpp_tree/test_behaviour_bpp_tree.c"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/dictionary/ion_master_table.c"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/dictionary/dictionary.c"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/dictionary/flat_file/flat_file_dictionary_handler.c"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/dictionary/flat_file/flat_file.c"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/dictionary/linear_hash/linear_hash_handler.c"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/dictionary/linear_hash/linear_hash.c"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/dictionary/skip_list/skip_list_handler.c"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/dictionary/skip_list/skip_list.c"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/dictionary/open_address_hash/open_address_hash.c"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/dictionary/open_address_hash/open_address_hash_dictionary_handler.c"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/dictionary/open_address_file_hash/open_address_file_hash_dictionary_handler.c"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/dictionary/open_address_file_hash/open_address_file_hash.c"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/dictionary/bpp_tree/bpp_tree_handler.c"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/dictionary/bpp_tree/bpp_tree.c"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/examples/master_table_example.c"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/IonDB.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/key_value/kv_system.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/iinq/iinq.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/util/lfsr/lfsr.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/file/ion_file.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/file/kv_stdio_intercept.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/file/sd_stdio_c_iface.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/file/linked_file_bag.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/benchmark/benchmark.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/benchmark/ram/ram_util.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/unit/iinq/test_iinq.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/unit/dictionary/test_dictionary.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/unit/dictionary/generic_dictionary_test.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/unit/dictionary/flat_file/test_flat_file_dictionary_handler.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/unit/dictionary/flat_file/test_flat_file.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/unit/dictionary/linear_hash/test_linear_hash_dictionary_handler.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/unit/dictionary/linear_hash/test_linear_hash.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/unit/dictionary/skip_list/skip_list_tests.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/unit/dictionary/skip_list/test_skip_list_handler.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/unit/dictionary/skip_list/test_skip_list.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/unit/dictionary/open_address_hash/test_open_address_hash.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/unit/dictionary/open_address_hash/test_open_address_hash_dictionary_handler.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/unit/dictionary/open_address_file_hash/test_open_address_file_hash.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/unit/dictionary/open_address_file_hash/test_open_address_file_hash_dictionary_handler.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/unit/dictionary/bpp_tree/test_bpp_tree_handler.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/unit/cpp_wrapper/test1/test_cpp_wrapper1.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/unit/cpp_wrapper/test2/test_cpp_wrapper2.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/unit/cpp_wrapper/test4/test_cpp_wrapper4.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/unit/cpp_wrapper/test3/test_cpp_wrapper3.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/behaviour/dictionary/behaviour_dictionary.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/behaviour/dictionary/flat_file/test_behaviour_flat_file.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/behaviour/dictionary/linear_hash/test_behaviour_linear_hash.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/behaviour/dictionary/skip_list/test_behaviour_skip_list.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/behaviour/dictionary/open_address_hash/test_behaviour_open_address_hash.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/behaviour/dictionary/open_address_file_hash/test_behaviour_open_address_file_hash.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/tests/behaviour/dictionary/bpp_tree/test_behaviour_bpp_tree.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/dictionary/dictionary_types.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/dictionary/ion_master_table.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/dictionary/dictionary.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/dictionary/flat_file/flat_file_dictionary_handler.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/dictionary/flat_file/flat_file.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/dictionary/flat_file/flat_file_types.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/dictionary/linear_hash/linear_hash_handler.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/dictionary/linear_hash/linear_hash_types.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/dictionary/linear_hash/linear_hash.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/dictionary/skip_list/skip_list_handler.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/dictionary/skip_list/skip_list.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/dictionary/skip_list/skip_list_types.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/dictionary/open_address_hash/open_address_hash.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/dictionary/open_address_hash/open_address_hash_dictionary_handler.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/dictionary/open_address_hash/open_address_hash_dictionary.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/dictionary/open_address_file_hash/open_address_file_hash.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/dictionary/open_address_file_hash/open_address_file_hash_dictionary.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/dictionary/open_address_file_hash/open_address_file_hash_dictionary_handler.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/dictionary/bpp_tree/bpp_tree_handler.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/dictionary/bpp_tree/bpp_tree.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/serial/serial_c_iface.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/serial/printf_redirect.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/cpp_wrapper/FlatFile.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/cpp_wrapper/Cursor.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/cpp_wrapper/Dictionary.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/cpp_wrapper/BppTree.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/cpp_wrapper/MasterTable.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/cpp_wrapper/OpenAddressHash.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/cpp_wrapper/OpenAddressFileHash.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/cpp_wrapper/LinearHash.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/src/cpp_wrapper/SkipList.h"
  "${CMAKE_CURRENT_LIST_DIR}/iondb/resources/standard_file_template.h"
)

target_include_directories(iondb INTERFACE
 "${CMAKE_CURRENT_LIST_DIR}/iondb/src"
)

if (NOT TARGET arduino-compat)
    add_subdirectory(../../arduino-compat build_arduino-compat)
endif()

if (NOT TARGET official-sd)
    add_subdirectory(../../official-libs/sd build_official-sd)
endif()

target_link_libraries(iondb INTERFACE
    arduino-compat
    official-sd
)
