add_library(crypto INTERFACE)

target_sources(crypto INTERFACE
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/NoiseSource.cpp"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/Hash.cpp"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/AuthenticatedCipher.cpp"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/AESEsp32.cpp"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/GCM.cpp"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/BLAKE2b.cpp"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/KeccakCore.cpp"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/GHASH.cpp"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/P521.cpp"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/Ed25519.cpp"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/SHA512.cpp"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/BlockCipher.cpp"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/AES128.cpp"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/AES192.cpp"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/AES256.cpp"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/RNG.cpp"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/XOF.cpp"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/EAX.cpp"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/ChaCha.cpp"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/Curve25519.cpp"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/BLAKE2s.cpp"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/SHA3.cpp"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/ChaChaPoly.cpp"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/Cipher.cpp"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/XTS.cpp"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/GF128.cpp"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/SHA256.cpp"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/OMAC.cpp"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/SHAKE.cpp"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/CTR.cpp"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/BigNumberUtil.cpp"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/Crypto.cpp"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/AESCommon.cpp"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/Poly1305.cpp"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/GCM.h"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/Poly1305.h"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/NoiseSource.h"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/RNG.h"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/Curve25519.h"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/Crypto.h"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/GF128.h"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/SHAKE.h"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/ChaCha.h"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/KeccakCore.h"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/SHA512.h"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/BlockCipher.h"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/OMAC.h"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/BLAKE2s.h"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/Hash.h"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/CTR.h"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/AES.h"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/Ed25519.h"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/XTS.h"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/XOF.h"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/P521.h"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/SHA256.h"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/AuthenticatedCipher.h"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/Cipher.h"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/SHA3.h"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/BLAKE2b.h"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/EAX.h"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/GHASH.h"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/ChaChaPoly.h"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/BigNumberUtil.h"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/utility/EndianUtil.h"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/utility/RotateUtil.h"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/utility/ProgMemUtil.h"
  "${CMAKE_CURRENT_LIST_DIR}/Crypto/src/utility/LimbUtil.h"
)

target_include_directories(crypto INTERFACE
 "${CMAKE_CURRENT_LIST_DIR}/Crypto/src"
)

if (NOT TARGET arduino-compat)
    add_subdirectory(../../arduino-compat build_arduino-compat)
endif()

target_link_libraries(crypto INTERFACE
    arduino-compat
)
